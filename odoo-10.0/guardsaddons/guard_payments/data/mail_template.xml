<odoo>
    <data>


      <!-- ============================================================ Payments ===============================================================-->

        <record id="mail_payments" model="mail.template">
            <field name="name">Payments Mail</field>
            <field name="subject">Payments Mail</field>
            <field name="model_id" ref="base.model_res_users"/>
            <field name="mail_server_id" ref="project_init.base_smtp_settings"/>
            <field name="auto_delete" eval="True"/>
            <field name="user_signature" eval="False"/>
            <field name="body_html" type="xml">
                <p>
    Dear Sir,
</p>
<p>
    % if ctx['context']['overdue_records']|length
    Your payments which are going overdue on the current date are:<br/><br/>
    <table style="border: 1px solid ;">
        <thead style="border: 1px solid ; height: 30px;"><tr>
            <th style="border: 1px solid ; height: 30px; width: 140px">Bill Number</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Seller Company</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Amount</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Due Date</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Overdue</th>
            </tr>
        </thead>

        % for rec in ctx['context']['overdue_records']
        <tr>
            <td style="border: 1px solid ;">${rec.bill_number}</td>
            <td style="border: 1px solid ;">${rec.party_company.name}</td>
            <td style="border: 1px solid ;">${rec.amount}</td>
            <td style="border: 1px solid ;">${rec.due_date}</td>
            <td style="border: 1px solid ;">${rec.overdue}</td>
        </tr>
        % endfor
    </table>
    % endif

    <br/><br/>
    <!-- This week due payments-->
    % if ctx['context']['current_week_due_records']|length
    Payments due this week:
    <br/>
    <table style="border: 1px solid ;">
        <thead style="border: 1px solid ; height: 30px;"><tr>
            <th style="border: 1px solid ; height: 30px; width: 140px">Bill Number</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Seller Company</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Amount</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Due Date</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Overdue</th>
            </tr>
        </thead>

        % for rec in ctx['context']['current_week_due_records']
        <tr>
            <td style="border: 1px solid ;">${rec.bill_number}</td>
            <td style="border: 1px solid ;">${rec.party_company.name}</td>
            <td style="border: 1px solid ;">${rec.amount}</td>
            <td style="border: 1px solid ;">${rec.due_date}</td>
            <td style="border: 1px solid ;">${rec.overdue}</td>
        </tr>
        % endfor
    </table>
    % endif

    <br/><br/>
    <!-- Next week due payments-->
    % if ctx['context']['next_week_due_records']|length
    Payments due next week:
    <br/>
    <table style="border: 1px solid ;">
        <thead style="border: 1px solid ; height: 30px;"><tr>
            <th style="border: 1px solid ; height: 30px; width: 140px">Bill Number</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Seller Company</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Amount</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Due Date</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Overdue</th>
            </tr>
        </thead>

        % for rec in ctx['context']['next_week_due_records']
        <tr>
            <td style="border: 1px solid ;">${rec.bill_number}</td>
            <td style="border: 1px solid ;">${rec.party_company.name}</td>
            <td style="border: 1px solid ;">${rec.amount}</td>
            <td style="border: 1px solid ;">${rec.due_date}</td>
            <td style="border: 1px solid ;">${rec.overdue}</td>
        </tr>
        % endfor
    </table>
    % endif

</p>
            </field>
        </record>

      <!-- ===================================================== Payments End ===============================================================-->




      <!-- ===================================================== Invoices ===================================================================-->

      <!-- Customer Invoice Mail -->

        <record id="customer_mail" model="mail.template">
            <field name="name">Customer Mail</field>
            <field name="subject">Pending Payments</field>
            <field name="model_id" ref="base.model_res_users"/>
            <field name="mail_server_id" ref="project_init.base_smtp_settings"/>
            <field name="auto_delete" eval="True"/>
            <field name="user_signature" eval="False"/>
            <field name="body_html" type="xml">
                <p>
    Dear Sir,
</p>
<p>
    Following are the details of your payments with our company:
    <br/>
    % if ctx['context']['overdue']|length
    Invoices which got overdue on the current date are:<br/>
    <table style="border: 1px solid ;">
        <thead style="border: 1px solid ;"><tr>
            <th style="border: 1px solid ; height: 30px; width: 140px">Invoice Number</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Amount</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Due Date</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Overdue</th>
            </tr>
        </thead>

        % for rec in ctx['context']['overdue']
        <tr>
            <td style="border: 1px solid ;">${rec.invoice_number}</td>
            <td style="border: 1px solid ;">${rec.amount}</td>
            <td style="border: 1px solid ;">${rec.due_date}</td>
            <td style="border: 1px solid ;">${rec.overdue}</td>
        </tr>
        % endfor
    </table>
    % endif

    <br/><br/>
    % if ctx['context']['due']|length
    Invoices due this week are as follows: <br/>
    <table style="border: 1px solid ;">
        <thead style="border: 1px solid ;"><tr>
            <th style="border: 1px solid ; height: 30px; width: 140px">Invoice Number</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Amount</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Due Date</th>
            </tr>
        </thead>

        % for rec in ctx['context']['due']
        <tr>
            <td style="border: 1px solid ;">${rec.invoice_number}</td>
            <td style="border: 1px solid ;">${rec.amount}</td>
            <td style="border: 1px solid ;">${rec.due_date}</td>
        </tr>
        % endfor
    </table>
    % endif

</p>
            </field>
        </record>


      <!-- Sales Person Invoice Mail -->


        <record id="sale_person_mail" model="mail.template">
            <field name="name">Sale Person Mail</field>
            <field name="subject">Pending Payments</field>
            <field name="model_id" ref="base.model_res_users"/>
            <field name="mail_server_id" ref="project_init.base_smtp_settings"/>
            <field name="auto_delete" eval="True"/>
            <field name="user_signature" eval="False"/>
            <field name="body_html" type="xml">
                <p>
    Dear Sir,
</p>
<p>
    Following are the details of payments you have to follow up:<br/><br/>

    % if ctx['context']['overdue']|length
    Invoices which got overdue this week are:<br/>
    <table style="border: 1px solid ;">
        <thead style="border: 1px solid ;"><tr>
            <th style="border: 1px solid ; height: 30px; width: 140px">Invoice Number</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Customer</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Amount</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Due Date</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Overdue</th>
            </tr>
        </thead>

        % for rec in ctx['context']['overdue']
        <tr>
            <td style="border: 1px solid ;">${rec.invoice_number}</td>
            <td style="border: 1px solid ;">${rec.customer.name}</td>
            <td style="border: 1px solid ;">${rec.amount}</td>
            <td style="border: 1px solid ;">${rec.overdue}</td>
        </tr>
        % endfor
    </table>
    % endif
    <br/><br/>
    % if ctx['context']['due']|length
    Invoices which are to be followed up are: <br/>
    <table style="border: 1px solid ;">
        <thead style="border: 1px solid ;"><tr>
            <th style="border: 1px solid ; height: 30px; width: 140px">Invoice Number</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Customer</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Amount</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Due Date</th>
            </tr>
        </thead>

        % for rec in ctx['context']['due']
        <tr>
            <td style="border: 1px solid ;">${rec.invoice_number}</td>
            <td style="border: 1px solid ;">${rec.customer.name}</td>
            <td style="border: 1px solid ;">${rec.amount}</td>
            <td style="border: 1px solid ;">${rec.due_date}</td>
        </tr>
        % endfor
    </table>
    % endif

</p>
            </field>
        </record>


        <!-- Administrator Invoice Mail -->

        <record id="admin_mail_invoices" model="mail.template">
            <field name="name">Admin Invoices Mail</field>
            <field name="subject">Pending Payments</field>
            <field name="model_id" ref="base.model_res_users"/>
            <field name="mail_server_id" ref="project_init.base_smtp_settings"/>
            <field name="auto_delete" eval="True"/>
            <field name="user_signature" eval="False"/>
            <field name="body_html" type="xml">
                <p>
    Dear Sir,
</p>
<p>
    Following are the details of overdue and due payments: <br/><br/>

    % if ctx['context']['overdue']|length
    Invoices which got overdue this week are:<br/>
    <table style="border: 1px solid ;">
        <thead style="border: 1px solid ;"><tr>
            <th style="border: 1px solid ; height: 30px; width: 140px">Invoice Number</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Customer</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Amount</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Due Date</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Overdue</th>
            </tr>
        </thead>

        % for rec in ctx['context']['overdue']
        <tr>
            <td style="border: 1px solid ;">${rec.invoice_number}</td>
            <td style="border: 1px solid ;">${rec.customer.name}</td>
            <td style="border: 1px solid ;">${rec.amount}</td>
            <td style="border: 1px solid ;">${rec.due_date}</td>
            <td style="border: 1px solid ;">${rec.overdue}</td>
        </tr>
        % endfor
    </table>
    % endif
    <br/><br/>

    % if ctx['context']['due_invoices_current']|length
    Invoices due this week are as follows: <br/>
    <table style="border: 1px solid ;">
        <thead style="border: 1px solid ;"><tr>
            <th style="border: 1px solid ; height: 30px; width: 140px">Invoice Number</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Customer</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Amount</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Due Date</th>
            </tr>
        </thead>

        % for rec in ctx['context']['due_invoices_current']
        <tr>
            <td style="border: 1px solid ;">${rec.invoice_number}</td>
            <td style="border: 1px solid ;">${rec.customer.name}</td>
            <td style="border: 1px solid ;">${rec.amount}</td>
            <td style="border: 1px solid ;">${rec.due_date}</td>
        </tr>
        % endfor
    </table>
    % endif

    <br/><br/>
    % if ctx['context']['due_invoices_next']|length
    Invoices due next week are as follows:<br/>
    <table style="border: 1px solid ;">
        <thead style="border: 1px solid ;"><tr>
            <th style="border: 1px solid ; height: 30px; width: 140px">Invoice Number</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Customer</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Amount</th>
            <th style="border: 1px solid ; height: 30px; width: 140px">Due Date</th>
            </tr>
        </thead>

        % for rec in ctx['context']['due_invoices_next']
        <tr>
            <td style="border: 1px solid ;">${rec.invoice_number}</td>
            <td style="border: 1px solid ;">${rec.customer.name}</td>
            <td style="border: 1px solid ;">${rec.amount}</td>
            <td style="border: 1px solid ;">${rec.due_date}</td>
        </tr>
        % endfor
    </table>
    % endif

</p>
            </field>
        </record>


    </data>
</odoo>